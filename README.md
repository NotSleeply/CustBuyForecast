# 赛事主页
## 一、赛事背景

随着人工智能技术在各行业的深度渗透，AI已成为推动产业变革的核心驱动力。阿里云天池平台作为国内领先的AI竞赛社区，计划推出"天池极客挑战-AI×行业"系列活动，旨在构建"课-赛-证"专题训练，促进AI技术与热门垂直行业领域的深度融合。此赛事为电商专场——用户购买行为预测。

## 二、赛事安排

### 1、报名要求

- **赛事官网**：https://tianchi.aliyun.com/specials/promotion/ai/geekchallenge
- **参赛对象**：个人赛，面向国内泛开发者人群免费开放报名，不限专业、年龄、学历背景；

### 2、赛程设置

- **竞赛设置**：在线个人打榜赛，本次赛事分为周赛、月赛，使用同一个排行榜进行滚动排名。

| 阶段  |        赛事时间        | 获奖公示时间  |
| :---: | :--------------------: | :-----------: |
| 周赛1 | 8月14日0点-8月20日24点 | 8月21日12点前 |
| 周赛2 | 8月21日0点-8月27日24点 | 8月28日12点前 |
| 周赛3 | 8月28日0点-9月3日24点  | 9月04日12点前 |
| 周赛4 | 9月04日0点-9月10日24点 | 9月11日12点前 |
| 月赛  | 8月14日0点-9月14日24点 | 赛后2个工作日 |

- **参赛要求**：选手报名后，可根据时间安排，自由参加周赛、月赛
- **提交评测及排行榜更新**：赛事期间每日有5次提交评测机会，评测成功后，可前往【我的成绩】查看，排行榜在每日12-24点整点刷新（即12、13、14、15、16、17、18、19、20、21、22、23、24点）

温馨提示：周赛4结束后仍可以继续打榜，直至本期赛事结束，评选月赛奖项。

# 赛题与数据说明页
## 一、赛题背景

随着全球化进程的加速，跨境电商已成为无数创业者追逐的热门赛道。无论是追求全球市场的广阔商机，还是希望通过创新商业模式实现个人价值，跨境电商都提供了无限可能。然而在跨国市场拓展过程中，企业普遍面临跨文化营销策略的本地化适配挑战。尽管部分企业已成功实现单一市场的商业闭环，但多市场协同运营的复杂性仍显著存在，这主要源于不同地域消费者行为模式、支付习惯及消费决策路径的显著差异。

作为中国跨境电商领域的标杆企业，阿里巴巴旗下全球速卖通（AliExpress）自2010年成立以来，历经十五年高速发展，已构建起成熟的跨境电子商务生态系统。该平台现覆盖全球 220 个国家和地区，运营着18个语言版本的本地化站点，商品品类矩阵覆盖22个核心消费品类，形成从日常快消品到耐用品的全品类供给体系。在核心市场布局方面，平台已形成以俄罗斯、美国、西班牙、巴西、法国为主的成熟市场集群。

**本次比赛基于某国家在若干日内的用户购买数据，数据集分为A、B两部分，A为训练数据，B为预测数据（去除其最后一条购买数据）。要求参赛选手预测B部分用户被移除的最后一条行为数据。**

## 二、赛题数据

**训练数据**：A部分用户的购买数据。数据的整体统计信息如下：

| 记录数  | 买家数 |
| :-----: | :----: |
| 6989817 | 483117 |

**测试数据**：给出B部分用户的购买数据除掉最后一条。数据的整体统计信息如下：

| 记录数 | 买家数 |
| :----: | :----: |
| 140380 | 10576  |

商品属性表：数据中共涉及1873173个商品，对于其中大部分商品，我们都会给出该商品的类目id、店铺id以及加密价格，其中价格的加密函数f(x)为一个单调增函数。

商品属性表，训练数据，测试数据对应的文件列表为：item_attr.csv, train.csv和test_without_last.csv。

#### 数据格式:

无论是训练数据还是测试数据，都具有如下的格式：

| buyer_country_id | buyer_admin_id | item_id |  create_order_time  | irank |
| :--------------: | :------------: | :-----: | :-----------------: | :---: |
|        xx        |     817731     | 4033525 | 2018-06-12 07:12:58 |   1   |
|        xx        |     817731     |  98120  | 2018-06-11 07:12:58 |   2   |

其中各字段含义如下：

buyer_country_id: 买家国家id, 只有'xx'一种取值

buyer_admin_id: 买家id

item_id: 商品id

create_order_time: 订单创建时间

irank: 每个买家对应的所有记录按照时间顺序的逆排序

数据集特点:

1. 每个用户有至少7条购买数据
2. 测试数据中每个用户的最后一条购买数据所对应的商品一定在训练数据中出现过.
3. 训练数据与测试数据中的用户集交为空

#### 要求选手提交的数据

关于B部分用户每个用户的最后一条购买数据的预测Top30

### 提交说明

请选手提交的文件命名为username.csv, 其格式如下：

buyer_admin_id,predict 1,predict 2,......,predict 30

其中buyer_admin_id为买家id, predict 1 ,..., predict 30为预测用户购买商品Top30的item_id依概率从高到低排序。例如:

1233434,4354,23432,6546,...,91343

2132133,154,20987,34349,...,78772

### 评估方法

MRR(Mean Reciprocal Rank):
首先对选手提交的表格中的每个用户计算用户得分
score(buyer)=∑k=130s(buyer,k)k*score*(*b**u**yer*)=*k*=1∑30​*k**s*(*b**u**yer*,*k*)​
其中, 如果选手对该buyer的预测结果predict k命中该buyer的最后一条购买数据则s(buyer,k)=1*s*(*b**u**yer*,*k*)=1; 否则s(buyer,k)=0*s*(*b**u**yer*,*k*)=0. 而选手得分为所有这些score(buyer)的平均值。

## 三、BaseLine参考

**赛事由【安泰杯——跨境电商智能算法大赛】改编而来，baseline可供参考：**
前往查看：https://tianchi.aliyun.com/notebook/63042

# 计划步骤

## 入门核心：从 “数据探索” 开始（最关键的第一步）
### 评估指标是什么?
- **重要的评估指标**（比如是AUC、F1-score还是Logloss）。

### 探索性数据分析（EDA），这是零基础建立对比赛认知的核心：

- 数据清洗（解决 “数据能用吗”）
    处理缺失值：如用户年龄字段缺失，判断是填充（均值 / 中位数）还是直接删除。
    处理异常值：如订单金额为负数，需确认是数据错误还是特殊情况，通常删除异常值。
    处理重复值：如同一用户同一时间的重复行为记录，保留一条即可。
- 数据探索（解决 “数据能告诉什么”）
    单变量分析：统计用户行为分布（如浏览、加购、下单的用户占比）、商品销量 Top10 品类等，用柱状图 / 饼图可视化。
    多变量分析：探索影响购买的因素，如 “用户浏览次数与下单率的关系”“商品价格区间与销量的关系”，用折线图 / 热力图分析。
    时间趋势分析：若数据含时间维度（如近 30 天行为），看购买行为是否有周期性（如周末下单量更高），为特征工程提供方向。  
- 探索数据（EDA）： 下载并打开数据文件，用Python的Pandas库做初步探索。你需要了解数据的基本情况：
  - 数据量多大？
  - 有多少用户和商品？
  - 哪些列是类别型数据（如行为类型、商品类别），哪些是数值型数据（如时间）？
  - 是否有缺失值？
  - 用户行为随时间有什么变化规律？
  - 正负样本的比例如何？（比如，购买行为相比浏览行为是不是非常少？这会影响你选择模型和评估指标。）

## 构建基线模型(快速出分)

### 当你对数据有了初步认识后，不要急着去做复杂模型，先快速搭建一个简单的基线（Baseline）。基线模型就像一个起点，它可以帮你熟悉整个比赛流程，并得到一个初步分数，给自己一些信心。

1. 常用模型：

  - 传统机器学习： 逻辑回归、支持向量机、决策树、随机森林等。

  - 梯度提升树（GBDT）系列： XGBoost、LightGBM、CatBoost是比赛中的“三大件”，它们效果好、速度快、可解释性强，是你的首选。

2. 特征工程：特征工程是模型效果的“上限”，比算法本身更重要。在用户行为预测这类问题中，常用的特征主要围绕“用户-商品-时间”

  - 用户特征： 统计用户的历史行为、总消费金额、活跃天数等。
  - 商品特征： 统计商品。
  - 时间特征： 从时间戳中提取信息，比如星期几、一天中的第几个小时、距离上次购买的天数、距离上次加购的天数等。
  - 交叉特征： 将用户和商品的特征组合起来，比如“该用户是否购买过这类商品”、“该用户是否在某个时间段购买过商品”等。


## 进阶操作：特征工程与基础建模
### 当数据探索清晰后，进入 “如何构建预测模型” 阶段，零基础优先从 “简单有效” 的方法入手：

- 特征工程（解决 “给模型喂什么信息”）
    核心是将原始数据转化为 “模型能理解的特征”，针对 “用户购买行为预测”，可优先构建 3 类特征：
      用户特征：用户近 7/14/30 天的浏览次数、加购次数、下单次数，用户历史平均购买间隔等。
      商品特征：商品近 7 天的被浏览次数、加购次数、转化率（下单数 / 浏览数），商品所属品类等。
      行为时序特征：用户对某商品的最近一次浏览时间距预测日的天数、用户近 3 天内是否有过加购行为等。
    Tips：用 pandas 的 groupby（分组统计）、shift（时间偏移）等函数实现，无需复杂算法。
    
- 基础建模（解决 “用什么模型预测”）
    零基础避免直接用深度学习，优先选择 “易实现、易调参” 的传统模型：
    
    模型选择：
    	若预测 “是否购买”（二分类问题）：用逻辑回归（Logistic Regression）、随机森林（Random Forest），scikit-learn 库可直接调用，代码量极少。
    	若预测 “购买数量”（回归问题）：用线性回归、梯度提升树（XGBoost，需额外安装 xgboost 库，但调参简单，效果优于基础模型）。
    建模流程：
    	划分数据集：用 train_test_split 函数将数据分为训练集（80%，用于训练模型）和测试集（20%，用于验证效果）。
    	模型训练：调用模型库，用训练集拟合模型（如model.fit(X_train, y_train)）。
    	模型评估：用测试集计算评价指标（如model.score(X_test, y_test)），若效果差，返回特征工程阶段优化（如增加新特征、调整特征统计周期）。

## 优化模型
1. 更复杂的特征工程：

  - RFM模型： Recency（最近一次购买时间）、Frequency（购买频率）、Monetary（购买金额）。
  - 行为序列特征： 考虑用户行为的顺序性，比如用行为序列来构建特征，或使用更高级的序列模型。
  - Embedding（嵌入）： 将离散的ID（如用户ID、商品ID）转换为低维稠密的向量表示，这些向量可以作为深度学习模型的输入。

2. 模型融合（Model Ensemble）：

  - 将多个不同模型的预测结果进行加权平均或堆叠（Stacking），通常能获得比单个模型更好的效果。
  - 你可以将XGBoost、LightGBM、逻辑回归等模型的预测结果作为新的特征，再用一个模型（如逻辑回归）进行二次训练，这就是一种简单的Stacking。


## 关键辅助：善用赛事资源（少走 90% 的弯路）
零基础参赛的核心是 “不闭门造车”，充分利用天池平台的资源：

- 逛【论坛】板块
  赛事论坛通常会有官方发布的 “新手引导帖”“数据解读帖”，以及往届选手分享的 “入门思路”“代码开源”（如 GitHub 链接），直接参考他人的特征工程和建模逻辑，避免从零开始踩坑。
- 参考 “学习赛” 案例
  该赛事标注为 “学习赛”，天池平台通常会为学习赛提供 “ baseline 代码”（即基础可运行的参赛代码，包含数据处理、建模全流程），拿到后先逐行理解代码逻辑，再基于此修改（如增加自己想到的特征、更换模型），这是最快的入门方式。
- 主动提问
  若遇到具体问题（如 “某字段缺失值怎么处理”“模型准确率上不去怎么办”），可在论坛发帖提问，注明自己的操作步骤和遇到的问题，通常会有热心选手或官方答疑。

## 时间规划（按 “未开始” 状态提前准备）
- 赛前 1-2 周：学习 Python 基础 + 数据分析工具（pandas、matplotlib），熟悉天池平台操作。
- 赛事开始后 1 周内：完成赛题阅读、数据下载与初步清洗，输出 1 份 EDA 报告（含关键图表和结论）。
- 赛事中期 2-3 周：完成特征工程构建，用基础模型（如随机森林）跑出第一版预测结果，对比评价指标优化方向。
- 赛事后期 1 周：尝试调参（如调整随机森林的树数量）或更换模型（如 XGBoost），优化预测效果，按官方要求提交结果。

零基础无需追求 “拿名次”，重点在于通过完整流程掌握 “数据分析 - 建模” 的实战逻辑，为秋招积累项目经验，这才是学习赛的核心价值。
