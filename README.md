# 赛事主页
## 一、赛事背景

随着人工智能技术在各行业的深度渗透，AI已成为推动产业变革的核心驱动力。阿里云天池平台作为国内领先的AI竞赛社区，计划推出"天池极客挑战-AI×行业"系列活动，旨在构建"课-赛-证"专题训练，促进AI技术与热门垂直行业领域的深度融合。此赛事为电商专场——用户购买行为预测。

## 二、赛事安排

### 1、报名要求

- **赛事官网**：https://tianchi.aliyun.com/specials/promotion/ai/geekchallenge
- **参赛对象**：个人赛，面向国内泛开发者人群免费开放报名，不限专业、年龄、学历背景；

### 2、赛程设置

- **竞赛设置**：在线个人打榜赛，本次赛事分为周赛、月赛，使用同一个排行榜进行滚动排名。

| 阶段  |        赛事时间        | 获奖公示时间  |
| :---: | :--------------------: | :-----------: |
| 周赛1 | 8月14日0点-8月20日24点 | 8月21日12点前 |
| 周赛2 | 8月21日0点-8月27日24点 | 8月28日12点前 |
| 周赛3 | 8月28日0点-9月3日24点  | 9月04日12点前 |
| 周赛4 | 9月04日0点-9月10日24点 | 9月11日12点前 |
| 月赛  | 8月14日0点-9月14日24点 | 赛后2个工作日 |

- **参赛要求**：选手报名后，可根据时间安排，自由参加周赛、月赛
- **提交评测及排行榜更新**：赛事期间每日有5次提交评测机会，评测成功后，可前往【我的成绩】查看，排行榜在每日12-24点整点刷新（即12、13、14、15、16、17、18、19、20、21、22、23、24点）

温馨提示：周赛4结束后仍可以继续打榜，直至本期赛事结束，评选月赛奖项。

# 赛题与数据说明页
## 一、赛题背景

随着全球化进程的加速，跨境电商已成为无数创业者追逐的热门赛道。无论是追求全球市场的广阔商机，还是希望通过创新商业模式实现个人价值，跨境电商都提供了无限可能。然而在跨国市场拓展过程中，企业普遍面临跨文化营销策略的本地化适配挑战。尽管部分企业已成功实现单一市场的商业闭环，但多市场协同运营的复杂性仍显著存在，这主要源于不同地域消费者行为模式、支付习惯及消费决策路径的显著差异。

作为中国跨境电商领域的标杆企业，阿里巴巴旗下全球速卖通（AliExpress）自2010年成立以来，历经十五年高速发展，已构建起成熟的跨境电子商务生态系统。该平台现覆盖全球 220 个国家和地区，运营着18个语言版本的本地化站点，商品品类矩阵覆盖22个核心消费品类，形成从日常快消品到耐用品的全品类供给体系。在核心市场布局方面，平台已形成以俄罗斯、美国、西班牙、巴西、法国为主的成熟市场集群。

**本次比赛基于某国家在若干日内的用户购买数据，数据集分为A、B两部分，A为训练数据，B为预测数据（去除其最后一条购买数据）。要求参赛选手预测B部分用户被移除的最后一条行为数据。**

## 二、赛题数据

**训练数据**：A部分用户的购买数据。数据的整体统计信息如下：

| 记录数  | 买家数 |
| :-----: | :----: |
| 6989817 | 483117 |

**测试数据**：给出B部分用户的购买数据除掉最后一条。数据的整体统计信息如下：

| 记录数 | 买家数 |
| :----: | :----: |
| 140380 | 10576  |

**商品属性表**：数据中共涉及1873173个商品，对于其中大部分商品，我们都会给出该商品的类目id、店铺id以及加密价格，其中价格的加密函数f(x)为一个单调增函数。

商品属性表，训练数据，测试数据对应的文件列表为：**item_attr.csv,** **train.csv**和**test_without_last.csv**。

#### 数据格式:

无论是训练数据还是测试数据，都具有如下的格式：

| buyer_country_id | buyer_admin_id | item_id |  create_order_time  | irank |
| :--------------: | :------------: | :-----: | :-----------------: | :---: |
|        xx        |     817731     | 4033525 | 2018-06-12 07:12:58 |   1   |
|        xx        |     817731     |  98120  | 2018-06-11 07:12:58 |   2   |

其中各字段含义如下：

**buyer_country_id**: 买家国家id, 只有'xx'一种取值

**buyer_admin_id**: 买家id

**item_id**: 商品id

**create_order_time**: 订单创建时间

**irank**: 每个买家对应的所有记录按照时间顺序的逆排序

数据集特点:

1. 每个用户有至少7条购买数据
2. 测试数据中每个用户的最后一条购买数据所对应的商品一定在训练数据中出现过.
3. 训练数据与测试数据中的用户集交为空

#### 要求选手提交的数据

关于B部分用户每个用户的最后一条购买数据的预测Top30

### 提交说明

请选手提交的文件命名为**username.csv**, 其格式如下：

buyer_admin_id,predict 1,predict 2,......,predict 30

其中buyer_admin_id为买家id, predict 1 ,..., predict 30为预测用户购买商品Top30的item_id依概率从高到低排序。例如: (不需要表头标签)

1233434,4354,23432,6546,...,91343

2132133,154,20987,34349,...,78772

### 评估方法

**MRR(Mean Reciprocal Rank)**
首先对选手提交的表格中的每个用户计算用户得分
MRR是一个常用的评估指标，特别是在**推荐系统**和**信息检索**领域。它的核心思想是：**你预测得越靠前，得分就越高。**

#### 如何使用MRR进行评估？

假设我们有一组用户的预测结果和真实数据：

- **用户A**：真实目标是商品X。模型预测列表为 [商品B, 商品X, 商品C, ...]。商品X排在第2位。
  - 用户A的 `score` = `1/2` = `0.5`
- **用户B**：真实目标是商品Y。模型预测列表为 [商品Y, 商品A, 商品D, ...]。商品Y排在第1位。
  - 用户B的 `score` = `1/1` = `1.0`
- **用户C**：真实目标是商品Z。模型预测列表为 [商品A, 商品B, 商品C, ...]。商品Z没有在列表中。
  - 用户C的 `score` = `0`

最终的MRR就是所有用户得分的平均值：`MRR = (0.5 + 1.0 + 0) / 3 ≈ 0.5`。

## 三、BaseLine参考

**赛事由【安泰杯——跨境电商智能算法大赛】改编而来，baseline可供参考：**
前往查看：https://tianchi.aliyun.com/notebook/63042

- [TIANCHI安泰杯 —跨境电商智能算法大赛Baseline - 知乎](https://zhuanlan.zhihu.com/p/74119672)
- [安泰杯 —— 跨境电商智能算法大赛 笔记 - 知乎](https://zhuanlan.zhihu.com/p/700491643)





# 文件结构

```shell
CustBuyForecast/
│
├── data/                # 数据文件夹（数据集数据、已在.gitignore中）
│
├── notebooks/           # Jupyter Notebook文件（如EDA、建模实验等）
│
├── src/                 # 源代码（Python脚本/模块）
│
├── output/              # 输出结果
│    └── module          # 提交模型 (username.csv)
│
├── pyproject.toml     	 # Python依赖包列表
├── README.md            # 项目说明文档
├── .gitignore           # Git忽略文件
└── LICENSE              # 许可证
```

# 项目运行

- **uv安装**

```powershell
1. uv sync  # 同步依赖
2. uv add ipykernel # 安装
3. uv run main.py # 启动项目
```
